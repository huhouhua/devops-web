<form nz-form [formGroup]="validateForm"  >
    <nz-form-item class="mb-sm first-item">
        <nz-form-label  [nzSm]="3" nzFor="changeType" nzRequired>流水线流程</nz-form-label>
        <nz-form-control [nzSm]="8"   >
              <nz-select formControlName="changeType"  (ngModelChange)="onSelect($event)"  nzPlaceHolder="请选择流水线流程">
                      <nz-option [nzLabel]="t.name" [nzValue]="t.name" *ngFor="let t of changeTypelist">
                      </nz-option>
              </nz-select>
        </nz-form-control>
        <nz-form-label  [nzSm]="3" >流程描述</nz-form-label>
        <nz-form-control [nzSm]="8">
            <span>{{ description}}</span>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item class="mb-sm">
        <nz-form-label  [nzSm]="3" nzFor="service">服务</nz-form-label>
        <nz-form-control [nzSm]="8"   >
              <nz-select formControlName="service"   nzPlaceHolder="请选择部署服务">
                      <nz-option [nzLabel]="t.name" [nzValue]="t.name" *ngFor="let t of servicelist">
                      </nz-option>
              </nz-select>
        </nz-form-control>
        <nz-form-label  nzSpan="3" nzFor="branch" nzRequired><span>分支名 &nbsp;<i nz-icon nz-tooltip
            nzTooltipTitle="源码分支或tag"
            nzType="question-circle" nzTheme="outline"></i></span></nz-form-label>
        <nz-form-control  nzSpan="8" >
          <nz-input-group >
            <input nz-input formControlName="branch"   name="branch"   maxlength="15"  minlength="1" placeholder="请输入分支名" />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
    <nz-form-item>
        <nz-form-label  [nzSm]="3" nzFor="k8sName" nzRequired>k8s环境</nz-form-label>
        <nz-form-control [nzSm]="8"   >
              <nz-select formControlName="k8sName"   nzPlaceHolder="请选择k8s部署环境">
                      <nz-option [nzLabel]="t.name" [nzValue]="t.name" *ngFor="let t of k8slist">
                      </nz-option>
              </nz-select>
        </nz-form-control>
        <nz-form-label  [nzSm]="3" nzFor="nameSpace" nzRequired>命名空间</nz-form-label>
        <nz-form-control [nzSm]="8"   >
            <input nz-input formControlName="nameSpace"   name="nameSpace"   maxlength="15"  minlength="1" placeholder="请输入部署的命名空间" />
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-control [nzOffset]="7" [nzSpan]="12">
            <div *nzModalFooter>
                <div class="steps-action">
                    <button nz-button nzType="default" [nzLoading]="loading" (click)="pre()" >
                        <span>上一步</span>
                    </button>
                    <button nz-button nzType="primary" [nzLoading]="loading" (click)="create()" [disabled]="!validateForm.valid">
                        <span>创建</span>
                      </button>
                </div>
            </div>
        </nz-form-control>
      </nz-form-item>
</form>
  
      